# Walmart-Recruiting---Store-Sales-Forecasting

## рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃљрЃдрЃгрЃћрЃарЃљ
рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ рЃљрЃарЃўрЃА Walmart-рЃўрЃА рЃарЃљрЃЏрЃЊрЃћрЃюрЃўрЃЏрЃћ рЃЏрЃљрЃдрЃљрЃќрЃўрЃўрЃАрЃљ рЃЊрЃљ рЃњрЃљрЃюрЃДрЃЮрЃцрЃўрЃџрЃћрЃЉрЃўрЃА рЃДрЃЮрЃЋрЃћрЃџрЃЎрЃЋрЃўрЃарЃћрЃБрЃџрЃў рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃърЃарЃЮрЃњрЃюрЃЮрЃќрЃўрЃарЃћрЃЉрЃљ 2010-2012 рЃгрЃџрЃћрЃЉрЃўрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЌ. рЃерЃћрЃцрЃљрЃАрЃћрЃЉрЃўрЃА рЃЏрЃћрЃбрЃарЃўрЃЎрЃљрЃљ Weighted Mean Absolute Error, рЃАрЃљрЃЊрЃљрЃф рЃАрЃљрЃЊрЃдрЃћрЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃЮ рЃЎрЃЋрЃўрЃарЃћрЃЉрЃўрЃА рЃгрЃЮрЃюрЃљ 5-рЃ»рЃћрЃа рЃБрЃцрЃарЃЮ рЃЏрЃљрЃдрЃљрЃџрЃўрЃљ, рЃЋрЃўрЃЊрЃарЃћ рЃљрЃарЃљрЃАрЃљрЃЊрЃдрЃћрЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃЮ рЃЎрЃЋрЃўрЃарЃћрЃЉрЃўрЃА. 

## рЃЕрЃЋрЃћрЃюрЃў рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљ
1) Data exploration - рЃерЃћрЃЋрЃўрЃАрЃгрЃљрЃЋрЃџрЃћрЃЌ рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃЎрЃљрЃюрЃЮрЃюрЃќрЃЮрЃЏрЃўрЃћрЃарЃћрЃЉрЃћрЃЉрЃў, рЃАрЃћрЃќрЃЮрЃюрЃБрЃарЃЮрЃЉрЃљ рЃЊрЃљ рЃЊрЃдрЃћрЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃћрЃЉрЃўрЃА рЃњрЃљрЃЋрЃџрЃћрЃюрЃљ.
2) Feature Engineering - рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃљрЃ«рЃљрЃџрЃў feature-рЃћрЃЉрЃў, рЃарЃЮрЃњрЃЮрЃарЃўрЃфрЃљрЃљ lag features, рЃАрЃћрЃќрЃЮрЃюрЃБрЃарЃЮрЃЉрЃўрЃА рЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃЮрЃарЃћрЃЉрЃў рЃЊрЃљ рЃљ.рЃе.
3) рЃЏрЃЮрЃЊрЃћрЃџрЃўрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃћрЃЉрЃў - рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЌ рЃЎрЃџрЃљрЃАрЃўрЃЎрЃБрЃарЃў time-based рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃў (arima, sarima, sarimax, prophet), tree-based рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃў (lightgbm, xgboost) рЃЊрЃљ deep learning рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃў ().
4) MLflow рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ - рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃбрЃарЃћрЃЎрЃўрЃюрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЌ MLflow.

## рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ



```text
Walmart-Recruiting---Store-Sales-Forecasting/
Рћѓ
РћюРћђРћђ ­ЪЊі data_exploration.ipynb          # (рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃљрЃюрЃљрЃџрЃўрЃќрЃў)
Рћѓ
РћюРћђРћђ ­Ъцќ model_experiment_xgboost.ipynb  # XGBoost model training
Рћѓ
РћюРћђРћђ ­Ъцќ model_experiment_x.ipynb...     # рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃў
Рћѓ
РћюРћђРћђ ­Ъџђ model_inference.ipynb           # рЃЏрЃЮрЃЊрЃћрЃџрЃўрЃА рЃЕрЃљрЃЏрЃЮрЃџрЃЮрЃљрЃЊрЃћрЃЉрЃљ рЃЊрЃљ submission рЃцрЃљрЃўрЃџрЃўрЃА рЃњрЃљрЃЏрЃќрЃљрЃЊрЃћрЃЉрЃљ
Рћѓ
РћћРћђРћђ ­ЪЊЮ README.md                       # Project documentation

```

## data exploration рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃЊрЃљрЃАрЃЎрЃЋрЃюрЃћрЃЉрЃў

1) рЃДрЃЮрЃЋрЃћрЃџрЃЎрЃЋрЃўрЃарЃћрЃБрЃџрЃў рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў рЃљрЃерЃЎрЃљрЃарЃљ рЃАрЃћрЃќрЃЮрЃюрЃБрЃа рЃарЃДрЃћрЃЋрЃћрЃЉрЃА рЃњрЃљрЃюрЃўрЃфрЃЊрЃўрЃА, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃњрЃарЃФрЃћрЃџрЃЋрЃљрЃЊрЃўрЃљрЃюрЃў рЃбрЃћрЃюрЃЊрЃћрЃюрЃфрЃўрЃљ рЃљрЃа рЃЕрЃљрЃюрЃА 2.5-рЃгрЃџрЃўрЃљрЃю рЃърЃћрЃарЃўрЃЮрЃЊрЃерЃў. рЃћрЃА рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћрЃЉрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃАрЃбрЃљрЃфрЃўрЃЮрЃюрЃљрЃарЃБрЃџрЃЮрЃЉрЃљрЃќрЃћ, рЃарЃљрЃф time series рЃЏрЃЮрЃЊрЃћрЃџрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃ«рЃћрЃџрЃАрЃљрЃДрЃарЃћрЃџрЃўрЃљ.
2) рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃърЃўрЃЎрЃў рЃерЃЮрЃЉрЃљрЃАрЃЌрЃљрЃю рЃљрЃарЃўрЃА рЃЊрЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃБрЃџрЃў. рЃЊрЃдрЃћрЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃћрЃЉрЃўрЃА рЃЎрЃЋрЃўрЃарЃћрЃЉрЃерЃў рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃњрЃљрЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃљ рЃЏрЃЎрЃЋрЃћрЃЌрЃарЃљрЃЊ рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃЊрЃћрЃЉрЃљ рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃЎрЃЋрЃўрЃарЃћрЃЉрЃўрЃАрЃњрЃљрЃю. рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃерЃЮрЃЉрЃўрЃА рЃћрЃцрЃћрЃЦрЃбрЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃўрЃДрЃЮрЃА рЃарЃћрЃњрЃарЃћрЃАрЃЮрЃарЃў time-series рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃерЃў.
3) рЃЊрЃћрЃърЃљрЃарЃбрЃљрЃЏрЃћрЃюрЃбрЃћрЃЉрЃў рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃЏрЃљрЃдрЃљрЃќрЃўрЃћрЃЉрЃерЃў рЃЏрЃАрЃњрЃљрЃЋрЃА рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃА рЃЊрЃћрЃЉрЃћрЃю рЃБрЃЏрЃћрЃбрЃћрЃАрЃљрЃЊ,, рЃарЃљрЃф рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћрЃЉрЃА, рЃарЃЮрЃЏ рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃўрЃА рЃЦрЃфрЃћрЃЋрЃљрЃќрЃћ рЃБрЃцрЃарЃЮ рЃЊрЃарЃЮрЃўрЃЌрЃў рЃцрЃљрЃЦрЃбрЃЮрЃарЃћрЃЉрЃў (рЃАрЃћрЃќрЃЮрЃюрЃў, рЃЊрЃдрЃћрЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃћрЃЉрЃў) рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃА, рЃЋрЃўрЃЊрЃарЃћ рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃЏрЃљрЃдрЃљрЃќрЃўрЃўрЃА рЃЏрЃљрЃ«рЃљрЃАрЃўрЃљрЃЌрЃћрЃЉрЃџрЃћрЃЉрЃў.
4) рЃљрЃЋрЃбрЃЮрЃЎрЃЮрЃарЃћрЃџрЃљрЃфрЃўрЃўрЃА рЃљрЃюрЃљрЃџрЃўрЃќрЃў рЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃА рЃФрЃџрЃўрЃћрЃа рЃЏрЃЮрЃЎрЃџрЃћрЃЋрЃљрЃЊрЃўрЃљрЃю рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃА (1-4 рЃЎрЃЋрЃўрЃарЃљ) рЃЊрЃљ рЃгрЃџрЃўрЃБрЃа рЃАрЃћрЃќрЃЮрЃюрЃБрЃарЃЮрЃЉрЃљрЃА (52 рЃЎрЃЋрЃўрЃарЃљ). рЃћрЃА рЃюрЃўрЃерЃюрЃљрЃЋрЃА, рЃарЃЮрЃЏ рЃБрЃљрЃ«рЃџрЃЮрЃћрЃАрЃў рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃўрЃА рЃўрЃАрЃбрЃЮрЃарЃўрЃљ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃўрЃљ рЃЏрЃЮрЃЏрЃљрЃЋрЃљрЃџрЃў рЃърЃарЃЮрЃњрЃюрЃЮрЃќрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА. рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃ«рЃћрЃћрЃЉрЃерЃў рЃ«рЃћрЃџрЃАрЃљрЃДрЃарЃћрЃџрЃў рЃўрЃЦрЃюрЃћрЃЉрЃљ рЃџрЃћрЃњ рЃцрЃўрЃЕрЃћрЃарЃћрЃЉрЃў: 1, 2, 3, 4 рЃЊрЃљ 52 рЃЎрЃЋрЃўрЃарЃўрЃА рЃџрЃћрЃњрЃћрЃЉрЃў рЃърЃарЃЮрЃњрЃюрЃЮрЃќрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.

## рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃў

### tree_based models (xgboost, lightgbm)

#### Data_cleaning
рЃњрЃЋрЃљрЃЦрЃЋрЃА MissingMarkdownHandler, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃљрЃарЃЎрЃЊрЃљрЃБрЃюрЃўрЃА Nan-рЃћрЃЉрЃА рЃЕрЃљрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЉрЃА 0-рЃћрЃЉрЃўрЃЌ. рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃарЃљрЃф рЃюрЃљрЃџрЃў рЃўрЃДрЃЮ, рЃўрЃА рЃљрЃа рЃюрЃўрЃерЃюрЃљрЃЋрЃЊрЃљ рЃЏрЃљрЃарЃЎрЃЊрЃљрЃБрЃюрЃўрЃА рЃюрЃБрЃџрЃЮрЃЉрЃљрЃА, рЃљрЃарЃљрЃЏрЃћрЃЊ - рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃўрЃА рЃљрЃа рЃЦрЃЮрЃюрЃљрЃА рЃюрЃўрЃерЃюрЃљрЃЋрЃА. рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃЊрЃљрЃЋрЃљрЃЏрЃбрЃћрЃЌ boolean рЃцрЃџрЃћрЃњрЃў, рЃљрЃ«рЃљрЃџрЃў рЃАрЃЋрЃћрЃбрЃћрЃЉрЃў, рЃарЃЮрЃЏ 0-рЃЮрЃЉрЃљ рЃЊрЃљ рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃўрЃА рЃљрЃа рЃЦрЃЮрЃюрЃљ рЃњрЃљрЃюрЃњрЃЋрЃћрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃўрЃюрЃљ рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃўрЃАрЃњрЃљрЃю. рЃ«рЃЮрЃџрЃЮ рЃЌрЃЋрЃўрЃЌрЃЮрЃю рЃюрЃљрЃюрЃћрЃЉрЃў рЃЮрЃарЃюрЃљрЃўрЃарЃљрЃЊ рЃЕрЃљрЃЋрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЌ- 0рЃћрЃЉрЃўрЃЌ рЃЊрЃљ рЃЏрЃћрЃЊрЃўрЃљрЃюрЃљрЃЌрЃў, рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃў рЃљрЃа рЃўрЃДрЃЮ рЃЊрЃўрЃЊрЃљрЃЊ рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў. рЃЕрЃљрЃЋрЃЌрЃЋрЃљрЃџрЃћрЃЌ, рЃарЃЮрЃЏ рЃарЃљрЃЊрЃњрЃљрЃю рЃЏрЃћрЃЊрЃўрЃљрЃюрЃљрЃЌрЃў рЃерЃћрЃЋрЃАрЃћрЃЉрЃљ рЃЏрЃЮрЃЊрЃћрЃџрЃА рЃўрЃЏ рЃЊрЃљрЃеvрЃћрЃЉрЃљрЃА рЃњрЃљрЃљрЃЎрЃћрЃЌрЃћрЃЉрЃўрЃюрЃћрЃЉрЃА, рЃарЃЮрЃЏ рЃћрЃА рЃЏрЃљрЃарЃЎрЃЊрЃљрЃБрЃюрЃћрЃЉрЃў рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃќрЃћ рЃљрЃарЃўрЃљрЃю рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃў. рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃљрЃ»рЃЮрЃЉрЃљ 0-рЃћрЃЉрЃЏрЃљ рЃЮрЃЊрЃюрЃљрЃЋ рЃЏрЃћрЃЊрЃўрЃљрЃюрЃљрЃЌрЃў рЃерЃћрЃЋрЃАрЃћрЃЉрЃўрЃА рЃАрЃбрЃарЃљрЃбрЃћрЃњрЃўрЃљрЃА. рЃ«рЃЮрЃџрЃЮ рЃАрЃ«рЃЋрЃљ fetureb-рЃерЃў рЃЌрЃБ рЃерЃћрЃ«рЃЋрЃЊрЃљ Nan, рЃЋрЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ forward-fill (ffill) рЃЊрЃљ backward-fill (bfill), рЃљрЃюрЃБ рЃгрЃўрЃюрЃљ рЃЎрЃЋрЃўрЃарЃўрЃА рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљрЃА рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃА, рЃарЃљрЃЊрЃњрЃљрЃю time-series рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљрЃерЃў рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ recent рЃБрЃцрЃарЃЮ рЃарЃћрЃџрЃћрЃЋрЃљрЃюрЃбрЃБрЃарЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃўрЃДрЃЮрЃА рЃ«рЃерЃўрЃарЃљрЃЊ рЃЋрЃўрЃЊрЃарЃћ рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃљрЃю рЃЏрЃћрЃЊрЃўрЃљрЃюрЃљ. 


### feature_engineering 
Tree-based models рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљрЃЌ  seasonal рЃАрЃЋрЃћрЃбрЃћрЃЉрЃў, рЃарЃљрЃЊрЃњрЃљрЃю рЃўрЃАрЃўрЃюрЃў рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃљрЃЊ рЃЋрЃћрЃа рЃўрЃГрЃћрЃарЃћрЃю рЃфрЃўрЃЎрЃџрЃБрЃа рЃърЃљрЃбрЃћрЃарЃюрЃћрЃЉрЃА, рЃарЃЮрЃњрЃЮрЃарЃф time-series рЃЏрЃЮрЃЊрЃћрЃџрЃћрЃЉрЃў, рЃљрЃЏрЃўрЃбрЃЮрЃЏрЃљрЃф рЃерЃћрЃЋрЃЦрЃЏрЃћрЃюрЃўрЃЌ DateFeatureExtractor рЃЎрЃџрЃљрЃАрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃљрЃЏрЃљрЃбрЃћрЃЉрЃА рЃљрЃ«рЃљрЃџ featureb-рЃА. 
1) рЃЋрЃљрЃцрЃўрЃЦрЃАрЃўрЃарЃћрЃЉрЃЌ рЃЊрЃдрЃћрЃАрЃљрЃАрЃгрЃљрЃБрЃџрЃћрЃЉрЃўрЃА рЃгрЃўрЃюрЃљ рЃЊрЃљ рЃерЃћрЃЏрЃЊрЃћрЃњ рЃърЃћрЃарЃўрЃЮрЃЊрЃћрЃЉрЃАрЃљ(рЃЏрЃљрЃњ., days_until_christmas < 7  ---> рЃЉрЃЮрЃџрЃЮ рЃгрЃБрЃЌрЃўрЃА shopping)
2) Year, Month, Week, Day, DayOfWeek-рЃўрЃА рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћрЃЌ, рЃарЃљрЃЊрЃњрЃљрЃю рЃ«рЃћрЃћрЃЉрЃА рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљрЃЌ рЃќрЃБрЃАрЃбрЃў, рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃўрЃџрЃў featurebрЃў. 
3) рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЌ Cyclic encoding рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљ, рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћрЃЌ Month_sin, Month_cos, Week_sin, Week_cos, рЃарЃљрЃЌрЃљ рЃљрЃдрЃЦрЃЏрЃБрЃџрЃў рЃўрЃДрЃЮрЃА рЃарЃЮрЃЏ рЃЏрЃћ-12 рЃЌрЃЋрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ 1-рЃџрЃў рЃЏрЃЮрЃЊрЃўрЃА, рЃљрЃюрЃБ рЃфрЃўрЃЎрЃџрЃБрЃарЃЮрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃюрЃљрЃарЃЕрЃБрЃюрЃћрЃЉрЃџрЃљрЃЊ. 
4) Total_MarkDown: markdown-рЃћрЃЉрЃўрЃА рЃЏрЃЌрЃџрЃўрЃљрЃюрЃў рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ
5) MarkDown_Intensity: рЃюрЃЮрЃарЃЏрЃљрЃџрЃўрЃќрЃћрЃЉрЃБрЃџрЃў markdown рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ
6) Economic_Index: CPI-рЃўрЃАрЃљ рЃЊрЃљ Unemployment-рЃўрЃА рЃћрЃарЃЌрЃўрЃљрЃю  score-рЃљрЃЊ рЃњрЃљрЃћрЃарЃЌрЃўрЃљрЃюрЃћрЃЉрЃљ
7) рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћрЃЌ lag-рЃћрЃЉрЃўрЃф рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў (store, department) рЃгрЃДрЃЋрЃўрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЌрЃљрЃЋрЃўрЃАрЃў рЃАрЃърЃћрЃфрЃўрЃърЃўрЃЎрЃБрЃарЃў lag_1, lag_4, lag_52 рЃљрЃюрЃБ 1 рЃЎрЃЋрЃўрЃарЃўрЃА, 1 рЃЌрЃЋрЃўрЃА рЃЊрЃљ 1 рЃгрЃџрЃўрЃА рЃгрЃўрЃюрЃљрЃюрЃЊрЃћрЃџрЃў weekly_sales рЃАрЃЋрЃћрЃбрЃћрЃЉрЃў. рЃћрЃА рЃАрЃљрЃЏрЃўрЃЋрЃћ рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃарЃљрЃЊрЃњрЃљрЃю рЃњрЃљрЃЋрЃўрЃЌрЃЋрЃљрЃџрЃўрЃАрЃгрЃўрЃюрЃћрЃЌ рЃарЃЮрЃЏ (store, department) рЃгрЃДрЃЋрЃўрЃџрЃћрЃЉрЃА рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ РђюрЃърЃљрЃбрЃћрЃарЃюрЃўРђЮ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃ░рЃЦрЃЮрЃюрЃЊрЃћрЃЌ. рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃљрЃа рЃњрЃЋрЃЦрЃЮрЃюрЃЊрЃљ рЃћрЃА рЃљрЃ«рЃљрЃџрЃў рЃАрЃЋрЃћрЃбрЃћрЃЉрЃў, рЃарЃЮрЃфрЃљ рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃЕрЃЋрЃћрЃюрЃЏрЃљ рЃЏрЃЮрЃЊрЃћрЃџрЃЏрЃљ рЃБрЃЎрЃћрЃЌрЃћрЃАрЃў рЃерЃћрЃЊрЃћрЃњрЃў рЃЊрЃљрЃЊрЃЮ.

рЃњрЃљрЃЋрЃДрЃљрЃЋрЃўрЃЌ data train рЃЊрЃљ validaition рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃљрЃЊ, рЃЎрЃЮрЃюрЃарЃћрЃбрЃБрЃџрЃў рЃЌрЃљрЃарЃўрЃдрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ 2012-09-01


### xgboost training

preprocessing

рЃЋрЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ MissingMarkdownHandler,  MissingValueImputer, DateFeatureExtractor, XGBoostLabelEncoder pipeline-рЃерЃў. рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃАрЃљрЃЏрЃў рЃЎрЃџрЃљрЃАрЃў рЃарЃљрЃА рЃерЃЋрЃарЃћрЃЉрЃљ рЃќрЃћрЃЏрЃЮрЃЌрЃљрЃљ рЃљрЃдрЃгрЃћрЃарЃўрЃџрЃў рЃЊрЃљ рЃљрЃАрЃћрЃЋрЃћ рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћ XGBoostLabelEncoder, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃБрЃа feature-рЃћрЃЉрЃА рЃњрЃљрЃЊрЃљрЃљрЃЦрЃфрЃћрЃЋрЃА numerical feature-рЃћрЃЉрЃљрЃЊ LabelEncoder-рЃўрЃА рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃўрЃЌ, рЃарЃљрЃЊрЃњрЃљрЃю XgBoost рЃЉрЃћрЃЋрЃарЃљрЃЊ рЃЎрЃљрЃарЃњрЃљрЃЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА numerical feature-рЃћрЃЉрЃќрЃћ рЃЋрЃўрЃЊрЃарЃћ categorial. рЃЌрЃљрЃЋрЃЊрЃљрЃърЃўрЃарЃЋрЃћрЃџрЃљрЃЊ рЃњрЃљрЃюрЃЋрЃўрЃ«рЃўрЃџрЃћрЃЌ one-hot encoding, рЃЌрЃБрЃЏрЃфрЃљ рЃљрЃАрЃћ рЃЉрЃћрЃЋрЃарЃў рЃАрЃЋрЃћрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ рЃЏрЃЮрЃњрЃЋрЃўрЃгрЃћрЃЋрЃЊрЃљ рЃЊрЃљ рЃљрЃа рЃЕрЃљрЃЋрЃЌрЃЋрЃљрЃџрЃћрЃЌ рЃЏрЃўрЃќрЃљрЃюрЃерЃћрЃгрЃЮрЃюрЃўрЃџрЃљрЃЊ рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃўрЃА рЃљрЃљрЃАрЃћ рЃњрЃљрЃќрЃарЃЊрЃљ, рЃљрЃЏрЃўрЃбрЃЮрЃЏ labelEncoding рЃЮрЃърЃбрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃў рЃЕрЃљрЃюрЃЊрЃљ.

рЃљрЃа рЃЋрЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ RFE-рЃўрЃА рЃЊрЃљ рЃЎрЃЮрЃарЃћрЃџрЃљрЃфрЃўрЃљрЃА рЃљрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў, рЃарЃљрЃЊрЃњрЃљрЃю рЃЋрЃћрЃа рЃњрЃљрЃўрЃЌрЃЋрЃљрЃџрЃўрЃАрЃгрЃўрЃюрЃћрЃЉрЃЊрЃюрЃћрЃю рЃўрЃЏрЃљрЃА рЃарЃЮрЃЏ time series рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљрЃАрЃЌрЃљрЃю рЃњрЃЋрЃљрЃЦрЃЋрЃА рЃАрЃљрЃЦрЃЏрЃћ рЃЊрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃљрЃЏрЃЮрЃўрЃдрЃЮрЃю рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЏрЃЮрЃЊрЃћрЃџрЃўрЃА рЃЎрЃљрЃарЃњрЃљрЃЊ рЃбрЃарЃћрЃўрЃюрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА.

рЃЌрЃљрЃЋрЃЊрЃљрЃърЃўрЃарЃЋрЃћрЃџрЃљрЃЊ grid search рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћ XGBoost-рЃўрЃА рЃЮрЃа рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃю рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃќрЃћ: learning_rate рЃЊрЃљ max_depth-рЃќрЃћ. 

learning_rate рЃњрЃљрЃЋрЃџрЃћрЃюрЃљрЃА рЃљрЃ«рЃЊрЃћрЃюрЃА рЃарЃљрЃЏрЃЊрЃћрЃюрЃљрЃЊ рЃАрЃгрЃарЃљрЃцрЃљрЃЊ рЃљрЃЊрЃљрЃърЃбрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЏрЃЮрЃЊрЃћрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљрЃќрЃћ. рЃЊрЃљрЃЉрЃљрЃџ  learning_rate-рЃА рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЏрЃћрЃбрЃў рЃ«рЃћ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃБрЃЎрЃћрЃЌ рЃњрЃљрЃюрЃќрЃЮрЃњрЃљрЃЊрЃЊрЃћрЃЉрЃљ.

max_depth рЃљрЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃћрЃЉрЃА рЃ«рЃўрЃА рЃАрЃўрЃдрЃарЃЏрЃћрЃА. рЃарЃљрЃф рЃБрЃцрЃарЃЮ рЃдрЃарЃЏрЃљрЃљ рЃ«рЃћ рЃЏрЃўрЃЌ рЃБрЃцрЃарЃЮ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃўрЃљ рЃЏрЃЮрЃЊрЃћрЃџрЃў, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЏрЃўрЃЌ рЃБрЃцрЃарЃЮ рЃЏрЃўрЃЊрЃарЃћрЃЎрЃўрЃџрЃўрЃљ overfit-рЃўрЃАрЃЎрЃћрЃю.

рЃАрЃ«рЃЋрЃљ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў: 

| **рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў** | **рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ** | **рЃљрЃдрЃгрЃћрЃарЃљ** |
|---|---|---|
| objective | 'reg:squarederror' | рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃБрЃџрЃў рЃарЃћрЃњрЃарЃћрЃАрЃўрЃўрЃА рЃЏрЃўрЃќрЃљрЃюрЃў рЃЎрЃЋрЃљрЃЊрЃарЃљрЃбрЃБрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃўрЃА (MSE) рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЌ. |
| n_estimators | 200 | рЃЉрЃБрЃАрЃбрЃўрЃюрЃњрЃўрЃА рЃарЃљрЃБрЃюрЃЊрЃћрЃЉрЃўрЃА (рЃ«рЃћрЃћрЃЉрЃўрЃА) рЃЏрЃљрЃЦрЃАрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ. рЃљрЃЊрЃарЃћрЃБрЃџрЃў рЃерЃћрЃгрЃДрЃЋрЃћрЃбрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃерЃћрЃљрЃЏрЃфрЃўрЃарЃЮрЃА рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃБрЃџрЃў рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ. |
| subsample | 0.8 | рЃДрЃЮрЃЋрЃћрЃџрЃў рЃ«рЃћ рЃўрЃДрЃћрЃюрЃћрЃЉрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЏрЃљрЃАрЃўрЃЋрЃўрЃА 80%-рЃА (рЃЏрЃгрЃЎрЃарЃўрЃЋрЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ рЃЦрЃЋрЃћрЃАрЃљрЃЏрЃърЃџрЃўрЃюрЃњрЃў). рЃћрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ рЃњрЃљрЃЊрЃљрЃгрЃЋрЃарЃЌрЃюрЃўрЃА рЃърЃарЃћрЃЋрЃћрЃюрЃфрЃўрЃљрЃерЃў. |
| colsample_bytree | 0.8 | рЃДрЃЮрЃЋрЃћрЃџрЃў рЃ«рЃћ рЃўрЃДрЃћрЃюрЃћрЃЉрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃА 80%-рЃА. рЃљрЃЏрЃљрЃбрЃћрЃЉрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌрЃЮрЃЉрЃљрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃњрЃљрЃАрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃћрЃЉрЃџрЃљрЃЊ. |
| min_child_weight | 1 | рЃАрЃљрЃцрЃБрЃФрЃЋрЃџрЃўрЃљрЃюрЃў рЃдрЃўрЃарЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА (рЃ░рЃћрЃАрЃўрЃљрЃюрЃў) рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃ»рЃљрЃЏрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃАрЃљрЃГрЃўрЃарЃЮрЃљ рЃерЃЋрЃўрЃџрЃЮрЃЉрЃўрЃџ рЃЎрЃЋрЃљрЃюрЃФрЃерЃў. рЃЊрЃљрЃЉрЃљрЃџрЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ рЃ«рЃЊрЃўрЃА рЃЏрЃЮрЃЊрЃћрЃџрЃА рЃБрЃцрЃарЃЮ рЃЏрЃњрЃарЃФрЃюрЃЮрЃЉрЃўрЃљрЃарЃћрЃА. |
| tree_method | 'hist' | рЃўрЃДрЃћрЃюрЃћрЃЉрЃА рЃћрЃцрЃћрЃЦрЃбрЃБрЃа рЃ░рЃўрЃАрЃбрЃЮрЃњрЃарЃљрЃЏрЃљрЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџ рЃљрЃџрЃњрЃЮрЃарЃўрЃЌрЃЏрЃА рЃБрЃцрЃарЃЮ рЃАрЃгрЃарЃљрЃцрЃў рЃбрЃарЃћрЃюрЃўрЃюрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА, рЃњрЃљрЃюрЃАрЃљрЃЎрЃБрЃЌрЃарЃћрЃЉрЃўрЃЌ рЃЊрЃўрЃЊ рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃюрЃљрЃЎрЃарЃћрЃЉрЃћрЃЉрЃќрЃћ. |
| random_state | 42 | рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃњрЃљрЃЏрЃћрЃЮрЃарЃћрЃЉрЃљрЃЊрЃЮрЃЉрЃљрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌрЃў рЃЌрЃћрЃАрЃџрЃўрЃА рЃцрЃўрЃЦрЃАрЃўрЃарЃћрЃЉрЃўрЃЌ. |





### lightgbm training

рЃЊрЃљрЃЋрЃбрЃћрЃАрЃбрЃћ рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў num_leaves рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃћрЃЉрЃў (32, 64, 128), рЃарЃљрЃЌрЃљ рЃЏрЃћрЃюрЃљрЃ«рЃљ, рЃарЃЮрЃњрЃЮрЃа рЃўрЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃЊрЃљ рЃўрЃАрЃўрЃюрЃў рЃЏрЃЮрЃЊрЃћрЃџрЃўрЃА рЃ«рЃљрЃарЃўрЃАрЃ«рЃќрЃћ.

num_leaves=32 рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃЏрЃЮрЃЊрЃћрЃџрЃў рЃЋрЃћрЃа рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃЊрЃљ рЃЎрЃљрЃарЃњ рЃњрЃћрЃюрЃћрЃарЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљрЃА рЃЊрЃљ рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃерЃћрЃЊрЃћрЃњрЃў рЃљрЃЕрЃЋрЃћрЃюрЃљ рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃљрЃќрЃћ      
WMAE on val set: 1735.4435  

num_leaves=64-рЃќрЃћ рЃерЃћрЃЊрЃћрЃњрЃў рЃњрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃЊрЃљ рЃарЃЮрЃњрЃЮрЃарЃф рЃбрЃарЃћрЃюрЃўрЃюрЃњрЃќрЃћ, рЃљрЃАрЃћрЃЋрЃћ рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃљрЃќрЃћ Рђћ рЃЎрЃљрЃарЃњрЃў рЃЉрЃљрЃџрЃљрЃюрЃАрЃў рЃўрЃДрЃЮ рЃЉрЃљрЃўрЃљрЃАрЃАрЃљ рЃЊрЃљ рЃЋрЃљрЃарЃўрЃљрЃюрЃАрЃА рЃерЃЮрЃарЃўрЃА.      
WMAE on val set: 1633.4905  
WMAE on training set: 1595.0439

num_leaves=128-рЃЏрЃљ рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЊрЃљрЃЉрЃљрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ рЃљрЃЕрЃЋрЃћрЃюрЃљ рЃЋрЃљрЃџрЃўрЃЊрЃљрЃфрЃўрЃўрЃА рЃАрЃћрЃбрЃќрЃћ , рЃЌрЃБрЃЏрЃфрЃљ рЃбрЃарЃћрЃюрЃўрЃюрЃњрЃќрЃћ рЃБрЃЎрЃЋрЃћ  рЃЊрЃљрЃЉрЃљрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ рЃ░рЃЦрЃЮрЃюрЃЊрЃљ рЃарЃљрЃф рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћрЃЉрЃА, рЃарЃЮрЃЏ рЃЏрЃЮрЃЊрЃћрЃџрЃў рЃерЃћрЃЊрЃљрЃарЃћрЃЉрЃўрЃЌ рЃЏрЃўрЃЊрЃарЃћрЃЎрЃўрЃџрЃўрЃљ overfitting-рЃўрЃАрЃЎрЃћрЃю.        
WMAE on val set: 1633.4905  
WMAE on training set: 1426.0126


